(this.webpackJsonpfetch_github_repositories=this.webpackJsonpfetch_github_repositories||[]).push([[0],{138:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(74),l=a.n(o),c=a(12),s=a(82),i=new c.HttpLink({uri:"https://api.github.com/graphql"}),u=new c.ApolloLink((function(e,t){return e.setContext((function(e){var t=e.headers;return{headers:Object(s.a)({Authorization:"Bearer ".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/github-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GITHUB_TOKEN)},t)}})),t(e)})),m=new c.ApolloClient({link:Object(c.concat)(u,i),cache:new c.InMemoryCache}),d=a(29),f=a.n(d),p=a(51),_=a(81),v=a(23),h=a(52),E=a.n(h),b=a(9),g=a.n(b),y=a(78),C=a.n(y),N=a(21),O=a.n(N),j=function(e){var t=e.onChange,a=void 0===t?O.a:t,o=e.onKeyPress,l=void 0===o?O.a:o,c=e.className,s=void 0===c?"":c,i=e.placeholder,u=void 0===i?"":i,m=Object(n.useState)(""),d=Object(v.a)(m,2),f=d[0],p=d[1],_=Object(n.useCallback)((function(e){p(e.target.value),a(e.target.value)}),[a]);return r.a.createElement("input",{onChange:_,onKeyPress:l,value:f,className:s,placeholder:u})},k=function(e){var t=e.id,a=e.options,n=e.className,o=void 0===n?"":n,l=e.onChange;return r.a.createElement("select",{id:t,onChange:l,className:o},a.map((function(e){var t=e.value,a=e.title;return r.a.createElement("option",{value:t,key:t},a)})))},P=a(20),S=a.n(P),w=a(79),x=a.n(w),I=function(e){var t=e.children,a=e.className,n=void 0===a?"":a;return r.a.createElement("div",{className:S()(x.a.container,n)},t)},W=a(46),L=a.n(W),z=function(e){var t=e.licenses,a=void 0===t?[]:t,n=e.onSearchInputChange,o=e.onLicenseChange,l=void 0===o?O.a:o;return r.a.createElement("div",{className:L.a.header},r.a.createElement(I,{className:L.a.container},r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"licenseSelect"},"License: "),r.a.createElement(k,{className:L.a.select,id:"licenseSelect",options:a,onChange:l})),r.a.createElement("span",null,r.a.createElement(j,{placeholder:"Search",onChange:n}))))},q=a(80),A=a.n(q),B=function(e){var t=e.children;return r.a.createElement("div",{className:A.a.layout},t)},T=a(53),Y=a.n(T),$=function(e){var t=e.fontWeight,a=void 0===t?"normal":t,n=e.fontSize,o=void 0===n?"s":n,l=e.children,c=e.className,s=void 0===c?"":c,i=e.as,u=void 0===i?"p":i,m=Y.a["font-weight-".concat(a)],d=Y.a["font-size-".concat(o)],f=u;return r.a.createElement(f,{className:S()(m,d,s)},l)},D=function(e){var t=e.children,a=e.className;return r.a.createElement($,{fontSize:"m",fontWeight:"medium",className:a},t)},M=a(30),R=a.n(M),K=function(e){var t=e.repoName,a=e.repoUrl,n=e.ownerName,o=e.ownerUrl,l=e.license,c=e.stars,s=e.createdAt,i=e.className,u=void 0===i?"":i,m=Boolean(l);return r.a.createElement("div",{className:S()(R.a.repoCard,u)},r.a.createElement("div",{className:R.a.titleWrap},r.a.createElement(D,{className:R.a.title},r.a.createElement("a",{title:t,className:R.a.titleLink,target:"_blank",rel:"noopener noreferrer",href:a},t))),r.a.createElement($,null,"Owner:"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o},n)),r.a.createElement($,null,"License:"," ",r.a.createElement($,{as:"span",fontWeight:m?"medium":"normal"},l||"not indicated")),r.a.createElement($,null,"Stars: ",c),r.a.createElement($,null,"Created at: ",s))},U=a(54),F=a.n(U),G=function(){return r.a.createElement("div",{className:F.a.loader},r.a.createElement("div",{className:F.a.loaderPic}))},H=function(e){var t=e.onClick,a=e.children;return r.a.createElement("button",{onClick:t},a)},J=function(e){var t=e.hasPreviousPage,a=e.hasNextPage,n=e.onPreviousButtonClick,o=void 0===n?O.a:n,l=e.onNextButtonClick,c=void 0===l?O.a:l;return t&&a?r.a.createElement("div",null,r.a.createElement(H,{onClick:o},"Previous")," ",r.a.createElement(H,{onClick:c},"Next")):t?r.a.createElement(H,{onClick:o},"Previous"):a?r.a.createElement(H,{onClick:c},"Next"):null},Q=a(47),V=a.n(Q),X=function(e){var t=e.children,a=e.isLoading,n=void 0===a||a,o=e.className,l=void 0===o?"":o;return r.a.createElement("div",{className:S()(V.a.loaderContainer,l)},n&&r.a.createElement("div",{className:V.a.loaderWrap},r.a.createElement("div",{className:V.a.loaderSymbolWrap},r.a.createElement(G,null))),t)},Z=a(55);function ee(){var e=Object(Z.a)(["\n  query GetLicenses {\n    licenses {\n      name\n      key\n    }\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(Z.a)(["\n  query SearchResultItemConnection($first: Int, $last: Int, $query: String!, $after: String, $before: String) {\n    search(first: $first, last: $last, type: REPOSITORY, query: $query, after: $after, before: $before) {\n      repositoryCount\n      pageInfo {\n        ... on PageInfo {\n          startCursor\n          endCursor\n          hasNextPage\n          hasPreviousPage\n        }\n      }\n      nodes {\n        ... on Repository {\n          databaseId\n          createdAt\n          stargazers {\n            totalCount\n          }\n          description\n          licenseInfo {\n            name\n          }\n          name\n          owner {\n            login\n            url\n          }\n          url\n        }\n      }\n    }\n  }\n"]);return te=function(){return e},e}var ae=Object(c.gql)(te()),ne=Object(c.gql)(ee()),re=a(31),oe=a.n(re),le=[{title:"all",value:"all"}],ce=E()().subtract(30,"days").format("YYYY-MM-DD"),se="sort:stars language:javascript created:>".concat(ce),ie=function(){var e=Object(n.useState)(""),t=Object(v.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)("all"),s=Object(v.a)(l,2),i=s[0],u=s[1],m="all"===i?"":"license:".concat(i),d=Object(c.useLazyQuery)(ae,{notifyOnNetworkStatusChange:!0,variables:{first:20}}),h=Object(v.a)(d,2),b=h[0],y=h[1],N=y.loading,O=y.data,j=Object(c.useLazyQuery)(ne),k=Object(v.a)(j,2),P=k[0],S=k[1],w=S.loading,x=S.data,W=g()(O,"search.nodes")||[],L=g()(O,"search.pageInfo"),q=g()(L,"hasNextPage"),A=g()(L,"hasPreviousPage"),T=g()(L,"startCursor"),Y=g()(L,"endCursor"),D=g()(x,"licenses")||[],M=[].concat(le,Object(_.a)(D.map((function(e){return{value:e.key,title:e.name}})))),R=N||w,U=C()((function(e){o(e)}),1e3),F=Object(n.useCallback)((function(e){U(e)}),[U]),G=Object(n.useCallback)((function(e){u(e.target.value)}),[]),H=Object(n.useCallback)(function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({variables:{query:"".concat(a," ").concat(se," ").concat(m),after:Y,first:20,last:null}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Y,a,m,b]),Q=Object(n.useCallback)(function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({variables:{query:"".concat(a," ").concat(se," ").concat(m),before:T,first:null,last:20}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[T,a,m,b]);return Object(n.useEffect)((function(){P()}),[P]),Object(n.useEffect)((function(){b({variables:{query:"".concat(a," ").concat(se," ").concat(m)}})}),[a,m,b]),r.a.createElement(B,null,r.a.createElement(z,{licenses:M,onSearchInputChange:F,onLicenseChange:G}),r.a.createElement(X,{isLoading:R},r.a.createElement("div",{className:oe.a.container},r.a.createElement(I,null,0===W.length&&a&&!R?r.a.createElement($,null,"Repositories not found"):r.a.createElement("div",{className:oe.a.repositories},W.map((function(e){var t=g()(e,"databaseId"),a=g()(e,"name"),n=g()(e,"url"),o=g()(e,"owner.login"),l=g()(e,"owner.url"),c=g()(e,"licenseInfo.name"),s=g()(e,"stargazers.totalCount"),i=E()(g()(e,"createdAt")).format("DD-MM-YYYY");return r.a.createElement("div",{key:t,className:oe.a.repoCardWrap},r.a.createElement(K,{repoName:a,repoUrl:n,ownerName:o,ownerUrl:l,license:c,stars:s,createdAt:i,className:oe.a.repoCard}))}))),r.a.createElement(J,{hasPreviousPage:A,hasNextPage:q,onPreviousButtonClick:Q,onNextButtonClick:H})))))},ue=function(){return r.a.createElement(c.ApolloProvider,{client:m},r.a.createElement(ie,null))};a(138);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ue,null)),document.getElementById("root"))},30:function(e,t,a){e.exports={repoCard:"style_repoCard__vFqvu",titleWrap:"style_titleWrap__3GezE",title:"style_title__LpIur",titleLink:"style_titleLink__2yuF5"}},31:function(e,t,a){e.exports={container:"style_container__2CK7G",repositories:"style_repositories__Pl744",repoCardWrap:"style_repoCardWrap__2bhJl",repoCard:"style_repoCard__3_Rhq"}},46:function(e,t,a){e.exports={header:"style_header__2zsy6",container:"style_container__3SJ78",select:"style_select__1-Fw1"}},47:function(e,t,a){e.exports={loaderContainer:"style_loaderContainer__3-QBL",loaderWrap:"style_loaderWrap__SGxpz",loaderSymbolWrap:"style_loaderSymbolWrap__3wbbM"}},53:function(e,t,a){e.exports={"font-size-s":"style_font-size-s__3hgMw","font-size-m":"style_font-size-m__2a0ZX","font-weight-normal":"style_font-weight-normal__30YlS","font-weight-medium":"style_font-weight-medium__FtDjv"}},54:function(e,t,a){e.exports={loaderPic:"style_loaderPic__2APhN",spinner:"style_spinner__1jjrB"}},79:function(e,t,a){e.exports={container:"style_container__1IjMN"}},80:function(e,t,a){e.exports={layout:"style_layout__3Wc4A"}},83:function(e,t,a){e.exports=a(139)}},[[83,1,2]]]);
//# sourceMappingURL=main.9aa6e85b.chunk.js.map