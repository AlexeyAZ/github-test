{"version":3,"sources":["gql/client.tsx","components/Input/index.tsx","components/Select/index.tsx","components/Grid/Container/index.tsx","components/Header/index.tsx","components/Layout/index.tsx","components/Typography/Text/index.tsx","components/Typography/Title/index.tsx","components/RepoCard/index.tsx","components/Loader/index.tsx","components/Button/index.tsx","components/Pagination/index.tsx","components/LoaderContainer/index.tsx","containers/Repositories/queries.tsx","containers/Repositories/index.tsx","containers/App/index.tsx","index.tsx","components/RepoCard/style.module.scss","containers/Repositories/style.module.scss","components/Header/style.module.scss","components/LoaderContainer/style.module.scss","components/Typography/Text/style.module.scss","components/Loader/style.module.scss","components/Grid/Container/style.module.scss","components/Layout/style.module.scss"],"names":["httpLink","HttpLink","uri","authLink","ApolloLink","operation","forward","setContext","headers","Authorization","process","REACT_APP_GITHUB_TOKEN","client","ApolloClient","link","concat","cache","InMemoryCache","Input","onChange","noop","onKeyPress","className","placeholder","useState","value","setValue","handleInputChange","useCallback","e","target","Select","id","options","map","title","key","Container","children","cn","styles","container","Header","licenses","onSearchInputChange","onLicenseChange","header","htmlFor","select","Layout","layout","Text","fontWeight","fontSize","as","textFontWeight","textFontSize","Tag","Title","RepoCard","repoName","repoUrl","ownerName","ownerUrl","license","stars","createdAt","isLicenseExist","Boolean","repoCard","titleWrap","titleLink","rel","href","Loader","loader","loaderPic","Button","onClick","Pagination","hasPreviousPage","hasNextPage","onPreviousButtonClick","onNextButtonClick","LoaderContainer","isLoading","loaderContainer","loaderWrap","loaderSymbolWrap","GET_REPOSITORIES","gql","GET_LICENSES","defaultLicenses","date","moment","subtract","format","defaultQueryParams","Repositories","querySearch","setQuerySearch","setLicense","queryLicense","useLazyQuery","notifyOnNetworkStatusChange","variables","first","getRepositories","repositoriesLoading","loading","repositoriesData","data","getLicenses","licensesLoading","licensesData","repos","get","pageInfo","startCursor","endCursor","rawLicenses","item","name","debouncedSearchInputChange","debounce","query","handleSearchInputChange","inputValue","handleLicenseChange","handleNextButtonClick","a","after","last","handlePreviousButtonClick","before","useEffect","length","repositories","repo","repoCardWrap","App","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.bee0f4b3.chunk.js","sourcesContent":["import { ApolloClient, InMemoryCache, HttpLink, ApolloLink, concat } from '@apollo/client'\r\n\r\nconst httpLink = new HttpLink({ uri: 'https://api.github.com/graphql' })\r\n\r\ninterface Headers {\r\n  headers: object,\r\n}\r\n\r\nconst authLink = new ApolloLink((operation, forward) => {\r\n  operation.setContext(({ headers } : Headers) => ({\r\n    headers: {\r\n      Authorization: `Bearer ${process.env.REACT_APP_GITHUB_TOKEN}`,\r\n      ...headers,\r\n    },\r\n  }));\r\n  return forward(operation);\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: concat(authLink, httpLink),\r\n  cache: new InMemoryCache()\r\n})\r\n\r\nexport default client\r\n","import React, { useCallback, useState } from 'react'\r\nimport noop from 'lodash/noop'\r\n\r\nimport { InputProps } from './types'\r\n\r\nconst Input: React.FC<InputProps> = ({ onChange = noop, onKeyPress = noop, className = '', placeholder = '' }) => {\r\n  const [value, setValue] = useState('')\r\n  const handleInputChange = useCallback((e) => {\r\n    setValue(e.target.value)\r\n    onChange(e.target.value)\r\n  }, [onChange])\r\n  return (\r\n    <input onChange={handleInputChange} onKeyPress={onKeyPress} value={value} className={className} placeholder={placeholder} />\r\n  )\r\n}\r\n\r\nexport default Input","import React from 'react'\r\n\r\nimport { ISelectProps } from './types'\r\n\r\nconst Select: React.FC<ISelectProps> = ({ id, options, className = '', onChange }) => {\r\n  return (\r\n    <select id={id} onChange={onChange} className={className}>\r\n      {options.map(({ value, title }) => (\r\n        <option value={value} key={value}>\r\n          {title}\r\n        </option>\r\n      ))}\r\n    </select>\r\n  )\r\n}\r\n\r\nexport default Select","import React from 'react'\r\nimport cn from 'classnames'\r\n\r\nimport { IContainerProps } from './types'\r\n\r\nimport styles from './style.module.scss'\r\n\r\nconst Container: React.FC<IContainerProps> = ({ children, className = '' }) => {\r\n  return (\r\n    <div className={cn(styles.container, className)}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Container","import React from 'react'\r\nimport noop from 'lodash/noop'\r\n\r\nimport Input from '../Input'\r\nimport Select from '../Select'\r\nimport { Container } from '../Grid'\r\n\r\nimport { IHeaderProps } from './types'\r\n\r\nimport styles from './style.module.scss'\r\n\r\nconst Header: React.FC<IHeaderProps> = ({ licenses = [], onSearchInputChange, onLicenseChange = noop }) => {\r\n  return (\r\n    <div className={styles.header}>\r\n      <Container className={styles.container}>\r\n        <span>\r\n          <label htmlFor=\"licenseSelect\">License: </label>\r\n          <Select className={styles.select} id=\"licenseSelect\" options={licenses} onChange={onLicenseChange} />\r\n        </span>\r\n        <span>\r\n          <Input placeholder=\"Search\" onChange={onSearchInputChange} />\r\n        </span>\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nimport styles from './style.module.scss'\r\n\r\nconst Layout: React.FC = ({ children }) => {\r\n  return (\r\n    <div className={styles.layout}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Layout","import React from 'react'\r\nimport cn from 'classnames'\r\n\r\nimport { ITextProps } from '../types'\r\n\r\nimport styles from './style.module.scss'\r\n\r\nconst Text: React.FC<ITextProps> = ({ fontWeight = 'normal', fontSize = 's', children, className = '', as = 'p' }) => {\r\n  const textFontWeight = styles[`font-weight-${fontWeight}`]\r\n  const textFontSize = styles[`font-size-${fontSize}`]\r\n  const Tag = as\r\n  return (\r\n    <Tag className={cn(textFontWeight, textFontSize, className)}>\r\n      {children}\r\n    </Tag>\r\n  )\r\n}\r\n\r\nexport default Text","import React from 'react'\r\n\r\nimport Text from '../Text'\r\n\r\nimport { ITextProps } from '../types'\r\n\r\nconst Title: React.FC<ITextProps> = ({ children, className }) => {\r\n  return (\r\n    <Text fontSize=\"m\" fontWeight=\"medium\" className={className}>{children}</Text>\r\n  )\r\n}\r\n\r\nexport default Title","import React from 'react'\r\nimport cn from 'classnames'\r\n\r\nimport { Title, Text } from '../Typography'\r\nimport { IRepoCardProps } from './types'\r\n\r\nimport styles from './style.module.scss'\r\n\r\nconst RepoCard: React.FC<IRepoCardProps> = ({\r\n  repoName,\r\n  repoUrl,\r\n  ownerName,\r\n  ownerUrl,\r\n  license,\r\n  stars,\r\n  createdAt,\r\n  className = \"\",\r\n}) => {\r\n  const isLicenseExist = Boolean(license)\r\n  return (\r\n    <div className={cn(styles.repoCard, className)}>\r\n      <div className={styles.titleWrap}>\r\n        <Title className={styles.title}>\r\n          <a\r\n            title={repoName}\r\n            className={styles.titleLink}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href={repoUrl}\r\n          >\r\n            {repoName}\r\n          </a>\r\n        </Title>\r\n      </div>\r\n\r\n      <Text>\r\n        Owner:{\" \"}\r\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={ownerUrl}>\r\n          {ownerName}\r\n        </a>\r\n      </Text>\r\n      <Text>\r\n        License:{\" \"}\r\n        <Text as=\"span\" fontWeight={isLicenseExist ? \"medium\" : \"normal\"}>\r\n          {license || \"not indicated\"}\r\n        </Text>\r\n      </Text>\r\n      <Text>Stars: {stars}</Text>\r\n      <Text>Created at: {createdAt}</Text>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RepoCard","import React from 'react'\r\n\r\nimport styles from './style.module.scss'\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={styles.loader}>\r\n      <div className={styles.loaderPic} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader","import React from 'react'\r\n\r\nimport { IButtonProps } from './types'\r\n\r\nconst Button: React.FC<IButtonProps> = ({ onClick, children }) => {\r\n  return (\r\n    <button onClick={onClick}>\r\n      {children}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\nimport noop from 'lodash/noop'\r\n\r\nimport Button from '../Button'\r\n\r\nimport { IPaginationProps } from './types'\r\n\r\nconst Pagination: React.FC<IPaginationProps> = ({\r\n  hasPreviousPage,\r\n  hasNextPage,\r\n  onPreviousButtonClick = noop,\r\n  onNextButtonClick = noop,\r\n}) => {\r\n  if (hasPreviousPage && hasNextPage) {\r\n    return (\r\n      <div>\r\n        <Button onClick={onPreviousButtonClick}>Previous</Button>\r\n        {' '}\r\n        <Button onClick={onNextButtonClick}>Next</Button>\r\n      </div>\r\n    )\r\n  }\r\n  if (hasPreviousPage) {\r\n    return <Button onClick={onPreviousButtonClick}>Previous</Button>\r\n  }\r\n  if (hasNextPage) {\r\n    return <Button onClick={onNextButtonClick}>Next</Button>\r\n  }\r\n  return null;\r\n}\r\n\r\nexport default Pagination","import React, { FC } from 'react'\r\nimport cn from 'classnames'\r\n\r\nimport Loader from '../Loader'\r\n\r\nimport { ILoaderContainer } from './types'\r\n\r\nimport styles from './style.module.scss'\r\n\r\nconst LoaderContainer: FC<ILoaderContainer> = ({ children, isLoading = true, className = '' }) => {\r\n  return (\r\n    <div className={cn(styles.loaderContainer, className)}>\r\n      {isLoading && (\r\n        <div className={styles.loaderWrap}>\r\n          <div className={styles.loaderSymbolWrap}>\r\n            <Loader />\r\n          </div>\r\n        </div>\r\n      )}\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoaderContainer","import { gql } from '@apollo/client'\r\n\r\nconst GET_REPOSITORIES = gql`\r\n  query SearchResultItemConnection($first: Int, $last: Int, $query: String!, $after: String, $before: String) {\r\n    search(first: $first, last: $last, type: REPOSITORY, query: $query, after: $after, before: $before) {\r\n      repositoryCount\r\n      pageInfo {\r\n        ... on PageInfo {\r\n          startCursor\r\n          endCursor\r\n          hasNextPage\r\n          hasPreviousPage\r\n        }\r\n      }\r\n      nodes {\r\n        ... on Repository {\r\n          databaseId\r\n          createdAt\r\n          stargazers {\r\n            totalCount\r\n          }\r\n          description\r\n          licenseInfo {\r\n            name\r\n          }\r\n          name\r\n          owner {\r\n            login\r\n            url\r\n          }\r\n          url\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst GET_LICENSES = gql`\r\n  query GetLicenses {\r\n    licenses {\r\n      name\r\n      key\r\n    }\r\n  }\r\n`\r\n\r\nexport {\r\n  GET_REPOSITORIES,\r\n  GET_LICENSES,\r\n}\r\n","import React, { useCallback, useEffect, useState } from 'react'\r\nimport moment from 'moment'\r\n\r\nimport { useLazyQuery } from '@apollo/client'\r\nimport get from 'lodash/get'\r\nimport debounce from 'lodash/debounce'\r\n\r\nimport { RepoCard, Container, Pagination, Layout, Header, Text, LoaderContainer } from '../../components'\r\n\r\nimport { GET_REPOSITORIES, GET_LICENSES } from './queries'\r\n\r\nimport { IRepositoryVariables, IRepositoryFields, ILicense } from './types'\r\n\r\nimport styles from './style.module.scss'\r\n\r\nconst defaultLicenses = [{ title: 'all', value: 'all' }]\r\nconst date = moment().subtract(30, 'days').format('YYYY-MM-DD')\r\nconst defaultQueryParams = `sort:stars language:javascript created:>${date}`\r\nconst defaultQueryCount = 20\r\nconst querySearchDebounceDelay = 1000\r\n\r\nconst Repositories = () => {\r\n  const [querySearch, setQuerySearch] = useState('')\r\n  const [license, setLicense] = useState('all')\r\n\r\n  const queryLicense = license === 'all' ? '' : `license:${license}`\r\n\r\n  const [getRepositories, { loading: repositoriesLoading, data: repositoriesData }] = useLazyQuery<IRepositoryVariables>(\r\n    GET_REPOSITORIES,\r\n    {\r\n      notifyOnNetworkStatusChange: true,\r\n      variables: {\r\n        first: defaultQueryCount,\r\n      }\r\n    }\r\n  )\r\n\r\n  const [getLicenses, { loading: licensesLoading, data: licensesData }] = useLazyQuery(\r\n    GET_LICENSES\r\n  )\r\n\r\n  const repos = get(repositoriesData, 'search.nodes') || []\r\n  const pageInfo = get(repositoriesData, 'search.pageInfo')\r\n  const hasNextPage = get(pageInfo, 'hasNextPage')\r\n  const hasPreviousPage = get(pageInfo, 'hasPreviousPage')\r\n  const startCursor = get(pageInfo, 'startCursor')\r\n  const endCursor = get(pageInfo, 'endCursor')\r\n\r\n  const rawLicenses = get(licensesData, 'licenses') || []\r\n  const licenses = [...defaultLicenses, ...rawLicenses.map((item : ILicense) => ({value: item.key, title: item.name }))]\r\n\r\n  const isLoading = repositoriesLoading || licensesLoading\r\n\r\n  const debouncedSearchInputChange = debounce(query => {\r\n    setQuerySearch(query)\r\n  }, querySearchDebounceDelay)\r\n\r\n  const handleSearchInputChange = useCallback((inputValue) => {\r\n    debouncedSearchInputChange(inputValue)\r\n  }, [debouncedSearchInputChange])\r\n\r\n  const handleLicenseChange = useCallback((e) => {\r\n    setLicense(e.target.value)\r\n  }, [])\r\n\r\n  const handleNextButtonClick = useCallback(async (e) => {\r\n    await getRepositories({\r\n      variables: {\r\n        query: `${querySearch} ${defaultQueryParams} ${queryLicense}`,\r\n        after: endCursor,\r\n        first: defaultQueryCount,\r\n        last: null,\r\n      }\r\n    })\r\n  }, [endCursor, querySearch, queryLicense, getRepositories])\r\n\r\n  const handlePreviousButtonClick = useCallback(async (e) => {\r\n    await getRepositories({\r\n      variables: {\r\n        query: `${querySearch} ${defaultQueryParams} ${queryLicense}`,\r\n        before: startCursor,\r\n        first: null,\r\n        last: defaultQueryCount,\r\n      }\r\n    })\r\n  }, [startCursor, querySearch, queryLicense, getRepositories])\r\n\r\n  useEffect(() => {\r\n    getLicenses()\r\n  }, [getLicenses])\r\n\r\n  useEffect(() => {\r\n    getRepositories({\r\n      variables: {\r\n        query: `${querySearch} ${defaultQueryParams} ${queryLicense}`,\r\n      }\r\n    })\r\n  }, [querySearch, queryLicense, getRepositories])\r\n\r\n  return (\r\n    <Layout>\r\n      <Header\r\n        licenses={licenses}\r\n        onSearchInputChange={handleSearchInputChange}\r\n        onLicenseChange={handleLicenseChange}\r\n      />\r\n      <LoaderContainer isLoading={isLoading}>\r\n        <div className={styles.container}>\r\n          <Container>\r\n            {(repos.length === 0 && querySearch && !isLoading) ? (\r\n              <Text>Repositories not found</Text>\r\n            ) : (\r\n              <div className={styles.repositories}>\r\n                {repos.map((repo: IRepositoryFields) => {\r\n                  const id = get(repo, \"databaseId\");\r\n                  const repoName = get(repo, \"name\");\r\n                  const repoUrl = get(repo, \"url\");\r\n                  const ownerName = get(repo, \"owner.login\");\r\n                  const ownerUrl = get(repo, \"owner.url\");\r\n                  const license = get(repo, \"licenseInfo.name\");\r\n                  const stars = get(repo, \"stargazers.totalCount\");\r\n                  const createdAt = moment(get(repo, \"createdAt\")).format(\r\n                    \"DD-MM-YYYY\"\r\n                  );\r\n                  return (\r\n                    <div key={id} className={styles.repoCardWrap}>\r\n                      <RepoCard\r\n                        repoName={repoName}\r\n                        repoUrl={repoUrl}\r\n                        ownerName={ownerName}\r\n                        ownerUrl={ownerUrl}\r\n                        license={license}\r\n                        stars={stars}\r\n                        createdAt={createdAt}\r\n                        className={styles.repoCard}\r\n                      />\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n            <Pagination\r\n              hasPreviousPage={hasPreviousPage}\r\n              hasNextPage={hasNextPage}\r\n              onPreviousButtonClick={handlePreviousButtonClick}\r\n              onNextButtonClick={handleNextButtonClick}\r\n            />\r\n          </Container>\r\n        </div>\r\n      </LoaderContainer>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Repositories","import React from 'react'\nimport { ApolloProvider } from '@apollo/client'\n\nimport client from '../../gql/client'\n\nimport Repositories from '../Repositories'\n\nconst App = () => (\n  <ApolloProvider client={client}>\n    <Repositories />\n  </ApolloProvider>\n)\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './containers/App'\n\nimport './index.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"repoCard\":\"style_repoCard__vFqvu\",\"titleWrap\":\"style_titleWrap__3GezE\",\"title\":\"style_title__LpIur\",\"titleLink\":\"style_titleLink__2yuF5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2CK7G\",\"repositories\":\"style_repositories__Pl744\",\"repoCardWrap\":\"style_repoCardWrap__2bhJl\",\"repoCard\":\"style_repoCard__3_Rhq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__2zsy6\",\"container\":\"style_container__3SJ78\",\"select\":\"style_select__1-Fw1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"style_loaderContainer__3-QBL\",\"loaderWrap\":\"style_loaderWrap__SGxpz\",\"loaderSymbolWrap\":\"style_loaderSymbolWrap__3wbbM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"font-size-s\":\"style_font-size-s__3hgMw\",\"font-size-m\":\"style_font-size-m__2a0ZX\",\"font-weight-normal\":\"style_font-weight-normal__30YlS\",\"font-weight-medium\":\"style_font-weight-medium__FtDjv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderPic\":\"style_loaderPic__2APhN\",\"spinner\":\"style_spinner__1jjrB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1IjMN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"style_layout__3Wc4A\"};"],"sourceRoot":""}