(this.webpackJsonpfetch_github_repositories=this.webpackJsonpfetch_github_repositories||[]).push([[0],{138:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(74),l=n.n(o),c=n(12),s=n(82),i=new c.HttpLink({uri:"https://api.github.com/graphql"}),u=localStorage.getItem("token")||Object({NODE_ENV:"production",PUBLIC_URL:"/github-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GITHUB_TOKEN,m=new c.ApolloLink((function(e,t){return e.setContext((function(e){var t=e.headers;return{headers:Object(s.a)({Authorization:"Bearer ".concat(u)},t)}})),t(e)})),d=new c.ApolloClient({link:Object(c.concat)(m,i),cache:new c.InMemoryCache}),f=n(28),p=n.n(f),_=n(51),v=n(81),h=n(31),E=n(52),b=n.n(E),g=n(8),y=n.n(g),C=n(78),N=n.n(C),O=n(21),k=n.n(O),j=function(e){var t=e.onChange,n=void 0===t?k.a:t,o=e.onKeyPress,l=void 0===o?k.a:o,c=e.className,s=void 0===c?"":c,i=e.placeholder,u=void 0===i?"":i,m=Object(a.useRef)(null),d=Object(a.useCallback)((function(){var e=y()(m,"current.value");n(e)}),[n]);return r.a.createElement("input",{ref:m,onChange:d,onKeyPress:l,className:s,placeholder:u})},P=function(e){var t=e.id,n=e.options,a=e.className,o=void 0===a?"":a,l=e.onChange;return r.a.createElement("select",{id:t,onChange:l,className:o},n.map((function(e){var t=e.value,n=e.title;return r.a.createElement("option",{value:t,key:t},n)})))},S=n(20),w=n.n(S),x=n(79),I=n.n(x),W=function(e){var t=e.children,n=e.className,a=void 0===n?"":n;return r.a.createElement("div",{className:w()(I.a.container,a)},t)},L=n(46),z=n.n(L),q=function(e){var t=e.licenses,n=void 0===t?[]:t,a=e.onSearchInputChange,o=e.onLicenseChange,l=void 0===o?k.a:o;return r.a.createElement("div",{className:z.a.header},r.a.createElement(W,{className:z.a.container},r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"licenseSelect"},"License: "),r.a.createElement(P,{className:z.a.select,id:"licenseSelect",options:n,onChange:l})),r.a.createElement("span",null,r.a.createElement(j,{placeholder:"Search",onChange:a}))))},A=n(80),B=n.n(A),R=function(e){var t=e.children;return r.a.createElement("div",{className:B.a.layout},t)},T=n(53),Y=n.n(T),$=function(e){var t=e.fontWeight,n=void 0===t?"normal":t,a=e.fontSize,o=void 0===a?"s":a,l=e.children,c=e.className,s=void 0===c?"":c,i=e.as,u=void 0===i?"p":i,m=Y.a["font-weight-".concat(n)],d=Y.a["font-size-".concat(o)],f=u;return r.a.createElement(f,{className:w()(m,d,s)},l)},D=function(e){var t=e.children,n=e.className;return r.a.createElement($,{fontSize:"m",fontWeight:"medium",className:n},t)},M=n(29),K=n.n(M),U=function(e){var t=e.repoName,n=e.repoUrl,a=e.ownerName,o=e.ownerUrl,l=e.license,c=e.stars,s=e.createdAt,i=e.className,u=void 0===i?"":i,m=Boolean(l);return r.a.createElement("div",{className:w()(K.a.repoCard,u)},r.a.createElement("div",{className:K.a.titleWrap},r.a.createElement(D,{className:K.a.title},r.a.createElement("a",{title:t,className:K.a.titleLink,target:"_blank",rel:"noopener noreferrer",href:n},t))),r.a.createElement($,null,"Owner:"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o},a)),r.a.createElement($,null,"License:"," ",r.a.createElement($,{as:"span",fontWeight:m?"medium":"normal"},l||"not indicated")),r.a.createElement($,null,"Stars: ",c),r.a.createElement($,null,"Created at: ",s))},F=n(54),G=n.n(F),H=function(){return r.a.createElement("div",{className:G.a.loader},r.a.createElement("div",{className:G.a.loaderPic}))},J=function(e){var t=e.onClick,n=e.children;return r.a.createElement("button",{onClick:t},n)},Q=function(e){var t=e.hasPreviousPage,n=e.hasNextPage,a=e.onPreviousButtonClick,o=void 0===a?k.a:a,l=e.onNextButtonClick,c=void 0===l?k.a:l;return t&&n?r.a.createElement("div",null,r.a.createElement(J,{onClick:o},"Previous")," ",r.a.createElement(J,{onClick:c},"Next")):t?r.a.createElement(J,{onClick:o},"Previous"):n?r.a.createElement(J,{onClick:c},"Next"):null},V=n(47),X=n.n(V),Z=function(e){var t=e.children,n=e.isLoading,a=void 0===n||n,o=e.className,l=void 0===o?"":o;return r.a.createElement("div",{className:w()(X.a.loaderContainer,l)},a&&r.a.createElement("div",{className:X.a.loaderWrap},r.a.createElement("div",{className:X.a.loaderSymbolWrap},r.a.createElement(H,null))),t)},ee=n(55);function te(){var e=Object(ee.a)(["\n  query GetLicenses {\n    licenses {\n      name\n      key\n    }\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(ee.a)(["\n  query SearchResultItemConnection($first: Int, $last: Int, $query: String!, $after: String, $before: String) {\n    search(first: $first, last: $last, type: REPOSITORY, query: $query, after: $after, before: $before) {\n      repositoryCount\n      pageInfo {\n        ... on PageInfo {\n          startCursor\n          endCursor\n          hasNextPage\n          hasPreviousPage\n        }\n      }\n      nodes {\n        ... on Repository {\n          databaseId\n          createdAt\n          stargazers {\n            totalCount\n          }\n          description\n          licenseInfo {\n            name\n          }\n          name\n          owner {\n            login\n            url\n          }\n          url\n        }\n      }\n    }\n  }\n"]);return ne=function(){return e},e}var ae=Object(c.gql)(ne()),re=Object(c.gql)(te()),oe=n(30),le=n.n(oe),ce=[{title:"all",value:"all"}],se=b()().subtract(30,"days").format("YYYY-MM-DD"),ie="sort:stars language:javascript created:>".concat(se),ue=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)("all"),s=Object(h.a)(l,2),i=s[0],u=s[1],m="all"===i?"":"license:".concat(i),d=Object(c.useLazyQuery)(ae,{notifyOnNetworkStatusChange:!0,variables:{first:20}}),f=Object(h.a)(d,2),E=f[0],g=f[1],C=g.loading,O=g.data,k=Object(c.useLazyQuery)(re),j=Object(h.a)(k,2),P=j[0],S=j[1],w=S.loading,x=S.data,I=y()(O,"search.nodes")||[],L=y()(O,"search.pageInfo"),z=y()(L,"hasNextPage"),A=y()(L,"hasPreviousPage"),B=y()(L,"startCursor"),T=y()(L,"endCursor"),Y=y()(x,"licenses")||[],D=[].concat(ce,Object(v.a)(Y.map((function(e){return{value:e.key,title:e.name}})))),M=C||w,K=N()((function(e){o(e)}),1e3),F=Object(a.useCallback)((function(e){K(e)}),[K]),G=Object(a.useCallback)((function(e){u(e.target.value)}),[]),H=Object(a.useCallback)(function(){var e=Object(_.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({variables:{query:"".concat(n," ").concat(ie," ").concat(m),after:T,first:20,last:null}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[T,n,m,E]),J=Object(a.useCallback)(function(){var e=Object(_.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({variables:{query:"".concat(n," ").concat(ie," ").concat(m),before:B,first:null,last:20}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[B,n,m,E]);return Object(a.useEffect)((function(){P()}),[P]),Object(a.useEffect)((function(){E({variables:{query:"".concat(n," ").concat(ie," ").concat(m)}})}),[n,m,E]),r.a.createElement(R,null,r.a.createElement(q,{licenses:D,onSearchInputChange:F,onLicenseChange:G}),r.a.createElement(Z,{isLoading:M},r.a.createElement("div",{className:le.a.container},r.a.createElement(W,null,0===I.length&&n&&!M?r.a.createElement($,null,"Repositories not found"):r.a.createElement("div",{className:le.a.repositories},I.map((function(e){var t=y()(e,"databaseId"),n=y()(e,"name"),a=y()(e,"url"),o=y()(e,"owner.login"),l=y()(e,"owner.url"),c=y()(e,"licenseInfo.name"),s=y()(e,"stargazers.totalCount"),i=b()(y()(e,"createdAt")).format("DD-MM-YYYY");return r.a.createElement("div",{key:t,className:le.a.repoCardWrap},r.a.createElement(U,{repoName:n,repoUrl:a,ownerName:o,ownerUrl:l,license:c,stars:s,createdAt:i,className:le.a.repoCard}))}))),r.a.createElement(Q,{hasPreviousPage:A,hasNextPage:z,onPreviousButtonClick:J,onNextButtonClick:H})))))},me=function(){return r.a.createElement(c.ApolloProvider,{client:d},r.a.createElement(ue,null))};n(138);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null)),document.getElementById("root"))},29:function(e,t,n){e.exports={repoCard:"style_repoCard__vFqvu",titleWrap:"style_titleWrap__3GezE",title:"style_title__LpIur",titleLink:"style_titleLink__2yuF5"}},30:function(e,t,n){e.exports={container:"style_container__2CK7G",repositories:"style_repositories__Pl744",repoCardWrap:"style_repoCardWrap__2bhJl",repoCard:"style_repoCard__3_Rhq"}},46:function(e,t,n){e.exports={header:"style_header__2zsy6",container:"style_container__3SJ78",select:"style_select__1-Fw1"}},47:function(e,t,n){e.exports={loaderContainer:"style_loaderContainer__3-QBL",loaderWrap:"style_loaderWrap__SGxpz",loaderSymbolWrap:"style_loaderSymbolWrap__3wbbM"}},53:function(e,t,n){e.exports={"font-size-s":"style_font-size-s__3hgMw","font-size-m":"style_font-size-m__2a0ZX","font-weight-normal":"style_font-weight-normal__30YlS","font-weight-medium":"style_font-weight-medium__FtDjv"}},54:function(e,t,n){e.exports={loaderPic:"style_loaderPic__2APhN",spinner:"style_spinner__1jjrB"}},79:function(e,t,n){e.exports={container:"style_container__1IjMN"}},80:function(e,t,n){e.exports={layout:"style_layout__3Wc4A"}},83:function(e,t,n){e.exports=n(139)}},[[83,1,2]]]);
//# sourceMappingURL=main.45ea543e.chunk.js.map