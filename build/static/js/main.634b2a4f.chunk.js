(this.webpackJsonpfetch_github_repositories=this.webpackJsonpfetch_github_repositories||[]).push([[0],{138:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(74),l=a.n(o),c=a(12),s=a(82),i=new c.HttpLink({uri:"https://api.github.com/graphql"}),u=localStorage.getItem("token")||Object({NODE_ENV:"production",PUBLIC_URL:"/github-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GITHUB_TOKEN,m=new c.ApolloLink((function(e,t){return e.setContext((function(e){var t=e.headers;return{headers:Object(s.a)({Authorization:"Bearer ".concat(u)},t)}})),t(e)})),d=new c.ApolloClient({link:Object(c.concat)(m,i),cache:new c.InMemoryCache}),f=a(29),p=a.n(f),_=a(51),v=a(81),h=a(23),E=a(52),g=a.n(E),b=a(9),y=a.n(b),C=a(78),N=a.n(C),O=a(21),k=a.n(O),j=function(e){var t=e.onChange,a=void 0===t?k.a:t,o=e.onKeyPress,l=void 0===o?k.a:o,c=e.className,s=void 0===c?"":c,i=e.placeholder,u=void 0===i?"":i,m=Object(n.useState)(""),d=Object(h.a)(m,2),f=d[0],p=d[1],_=Object(n.useCallback)((function(e){p(e.target.value),a(e.target.value)}),[a]);return r.a.createElement("input",{onChange:_,onKeyPress:l,value:f,className:s,placeholder:u})},S=function(e){var t=e.id,a=e.options,n=e.className,o=void 0===n?"":n,l=e.onChange;return r.a.createElement("select",{id:t,onChange:l,className:o},a.map((function(e){var t=e.value,a=e.title;return r.a.createElement("option",{value:t,key:t},a)})))},P=a(20),w=a.n(P),x=a(79),I=a.n(x),W=function(e){var t=e.children,a=e.className,n=void 0===a?"":a;return r.a.createElement("div",{className:w()(I.a.container,n)},t)},L=a(46),z=a.n(L),q=function(e){var t=e.licenses,a=void 0===t?[]:t,n=e.onSearchInputChange,o=e.onLicenseChange,l=void 0===o?k.a:o;return r.a.createElement("div",{className:z.a.header},r.a.createElement(W,{className:z.a.container},r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"licenseSelect"},"License: "),r.a.createElement(S,{className:z.a.select,id:"licenseSelect",options:a,onChange:l})),r.a.createElement("span",null,r.a.createElement(j,{placeholder:"Search",onChange:n}))))},A=a(80),B=a.n(A),T=function(e){var t=e.children;return r.a.createElement("div",{className:B.a.layout},t)},Y=a(53),$=a.n(Y),D=function(e){var t=e.fontWeight,a=void 0===t?"normal":t,n=e.fontSize,o=void 0===n?"s":n,l=e.children,c=e.className,s=void 0===c?"":c,i=e.as,u=void 0===i?"p":i,m=$.a["font-weight-".concat(a)],d=$.a["font-size-".concat(o)],f=u;return r.a.createElement(f,{className:w()(m,d,s)},l)},M=function(e){var t=e.children,a=e.className;return r.a.createElement(D,{fontSize:"m",fontWeight:"medium",className:a},t)},R=a(30),K=a.n(R),U=function(e){var t=e.repoName,a=e.repoUrl,n=e.ownerName,o=e.ownerUrl,l=e.license,c=e.stars,s=e.createdAt,i=e.className,u=void 0===i?"":i,m=Boolean(l);return r.a.createElement("div",{className:w()(K.a.repoCard,u)},r.a.createElement("div",{className:K.a.titleWrap},r.a.createElement(M,{className:K.a.title},r.a.createElement("a",{title:t,className:K.a.titleLink,target:"_blank",rel:"noopener noreferrer",href:a},t))),r.a.createElement(D,null,"Owner:"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o},n)),r.a.createElement(D,null,"License:"," ",r.a.createElement(D,{as:"span",fontWeight:m?"medium":"normal"},l||"not indicated")),r.a.createElement(D,null,"Stars: ",c),r.a.createElement(D,null,"Created at: ",s))},F=a(54),G=a.n(F),H=function(){return r.a.createElement("div",{className:G.a.loader},r.a.createElement("div",{className:G.a.loaderPic}))},J=function(e){var t=e.onClick,a=e.children;return r.a.createElement("button",{onClick:t},a)},Q=function(e){var t=e.hasPreviousPage,a=e.hasNextPage,n=e.onPreviousButtonClick,o=void 0===n?k.a:n,l=e.onNextButtonClick,c=void 0===l?k.a:l;return t&&a?r.a.createElement("div",null,r.a.createElement(J,{onClick:o},"Previous")," ",r.a.createElement(J,{onClick:c},"Next")):t?r.a.createElement(J,{onClick:o},"Previous"):a?r.a.createElement(J,{onClick:c},"Next"):null},V=a(47),X=a.n(V),Z=function(e){var t=e.children,a=e.isLoading,n=void 0===a||a,o=e.className,l=void 0===o?"":o;return r.a.createElement("div",{className:w()(X.a.loaderContainer,l)},n&&r.a.createElement("div",{className:X.a.loaderWrap},r.a.createElement("div",{className:X.a.loaderSymbolWrap},r.a.createElement(H,null))),t)},ee=a(55);function te(){var e=Object(ee.a)(["\n  query GetLicenses {\n    licenses {\n      name\n      key\n    }\n  }\n"]);return te=function(){return e},e}function ae(){var e=Object(ee.a)(["\n  query SearchResultItemConnection($first: Int, $last: Int, $query: String!, $after: String, $before: String) {\n    search(first: $first, last: $last, type: REPOSITORY, query: $query, after: $after, before: $before) {\n      repositoryCount\n      pageInfo {\n        ... on PageInfo {\n          startCursor\n          endCursor\n          hasNextPage\n          hasPreviousPage\n        }\n      }\n      nodes {\n        ... on Repository {\n          databaseId\n          createdAt\n          stargazers {\n            totalCount\n          }\n          description\n          licenseInfo {\n            name\n          }\n          name\n          owner {\n            login\n            url\n          }\n          url\n        }\n      }\n    }\n  }\n"]);return ae=function(){return e},e}var ne=Object(c.gql)(ae()),re=Object(c.gql)(te()),oe=a(31),le=a.n(oe),ce=[{title:"all",value:"all"}],se=g()().subtract(30,"days").format("YYYY-MM-DD"),ie="sort:stars language:javascript created:>".concat(se),ue=function(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)("all"),s=Object(h.a)(l,2),i=s[0],u=s[1],m="all"===i?"":"license:".concat(i),d=Object(c.useLazyQuery)(ne,{notifyOnNetworkStatusChange:!0,variables:{first:20}}),f=Object(h.a)(d,2),E=f[0],b=f[1],C=b.loading,O=b.data,k=Object(c.useLazyQuery)(re),j=Object(h.a)(k,2),S=j[0],P=j[1],w=P.loading,x=P.data,I=y()(O,"search.nodes")||[],L=y()(O,"search.pageInfo"),z=y()(L,"hasNextPage"),A=y()(L,"hasPreviousPage"),B=y()(L,"startCursor"),Y=y()(L,"endCursor"),$=y()(x,"licenses")||[],M=[].concat(ce,Object(v.a)($.map((function(e){return{value:e.key,title:e.name}})))),R=C||w,K=N()((function(e){o(e)}),1e3),F=Object(n.useCallback)((function(e){K(e)}),[K]),G=Object(n.useCallback)((function(e){u(e.target.value)}),[]),H=Object(n.useCallback)(function(){var e=Object(_.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({variables:{query:"".concat(a," ").concat(ie," ").concat(m),after:Y,first:20,last:null}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Y,a,m,E]),J=Object(n.useCallback)(function(){var e=Object(_.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({variables:{query:"".concat(a," ").concat(ie," ").concat(m),before:B,first:null,last:20}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[B,a,m,E]);return Object(n.useEffect)((function(){S()}),[S]),Object(n.useEffect)((function(){E({variables:{query:"".concat(a," ").concat(ie," ").concat(m)}})}),[a,m,E]),r.a.createElement(T,null,r.a.createElement(q,{licenses:M,onSearchInputChange:F,onLicenseChange:G}),r.a.createElement(Z,{isLoading:R},r.a.createElement("div",{className:le.a.container},r.a.createElement(W,null,0===I.length&&a&&!R?r.a.createElement(D,null,"Repositories not found"):r.a.createElement("div",{className:le.a.repositories},I.map((function(e){var t=y()(e,"databaseId"),a=y()(e,"name"),n=y()(e,"url"),o=y()(e,"owner.login"),l=y()(e,"owner.url"),c=y()(e,"licenseInfo.name"),s=y()(e,"stargazers.totalCount"),i=g()(y()(e,"createdAt")).format("DD-MM-YYYY");return r.a.createElement("div",{key:t,className:le.a.repoCardWrap},r.a.createElement(U,{repoName:a,repoUrl:n,ownerName:o,ownerUrl:l,license:c,stars:s,createdAt:i,className:le.a.repoCard}))}))),r.a.createElement(Q,{hasPreviousPage:A,hasNextPage:z,onPreviousButtonClick:J,onNextButtonClick:H})))))},me=function(){return r.a.createElement(c.ApolloProvider,{client:d},r.a.createElement(ue,null))};a(138);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null)),document.getElementById("root"))},30:function(e,t,a){e.exports={repoCard:"style_repoCard__vFqvu",titleWrap:"style_titleWrap__3GezE",title:"style_title__LpIur",titleLink:"style_titleLink__2yuF5"}},31:function(e,t,a){e.exports={container:"style_container__2CK7G",repositories:"style_repositories__Pl744",repoCardWrap:"style_repoCardWrap__2bhJl",repoCard:"style_repoCard__3_Rhq"}},46:function(e,t,a){e.exports={header:"style_header__2zsy6",container:"style_container__3SJ78",select:"style_select__1-Fw1"}},47:function(e,t,a){e.exports={loaderContainer:"style_loaderContainer__3-QBL",loaderWrap:"style_loaderWrap__SGxpz",loaderSymbolWrap:"style_loaderSymbolWrap__3wbbM"}},53:function(e,t,a){e.exports={"font-size-s":"style_font-size-s__3hgMw","font-size-m":"style_font-size-m__2a0ZX","font-weight-normal":"style_font-weight-normal__30YlS","font-weight-medium":"style_font-weight-medium__FtDjv"}},54:function(e,t,a){e.exports={loaderPic:"style_loaderPic__2APhN",spinner:"style_spinner__1jjrB"}},79:function(e,t,a){e.exports={container:"style_container__1IjMN"}},80:function(e,t,a){e.exports={layout:"style_layout__3Wc4A"}},83:function(e,t,a){e.exports=a(139)}},[[83,1,2]]]);
//# sourceMappingURL=main.634b2a4f.chunk.js.map